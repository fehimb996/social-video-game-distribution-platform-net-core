@model DrustvenaPlatformaVideoIgara.Models.User

@{
    ViewData["Title"] = "Profile";
}

<h1>@Html.DisplayFor(model => model.NickName)</h1>
<dd class="col-sm-10">
    @if (!string.IsNullOrEmpty(Model.ProfilePicture))
    {
        <img src="@Model.ProfilePicture" alt="Profile Picture" style="max-width: 184px; max-height: 184px;" />
    }
    else
    {
        <span>No Profile Picture</span>
    }
</dd>

<div>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            First Name
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.FirstName)
        </dd>
        <dt class="col-sm-2">
            Last Name
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.LastName)
        </dd>
        <dt class="col-sm-2">
            Description
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.ProfileDescription)
        </dd>
        <div class="CustomProfileAttributes">
            <a asp-action="Games" asp-route-id="@Model.UserId">Games (@ViewData["GamesCount"])</a> <br />
            <a asp-action="Reviews" asp-route-id="@Model.UserId">Reviews (@ViewData["ReviewsCount"])</a> <br />
            <a asp-action="Friends" asp-route-id="@Model.UserId">Friends (@ViewData["FriendsCount"])</a> <br />
        </div>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Country)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Country.CountryName)
        </dd>

        @if ((bool)ViewData["IsOwnProfile"])
        {
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Email)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Email)
            </dd>
            <dt class="col-sm-2">
                Wallet Balance
            </dt>
            <dd class="col-sm-10">
                @ViewData["WalletBalance"] €
            </dd>
        }
    </dl>
</div>
<div>
    <div>
        @if ((bool)ViewData["IsOwnProfile"])
        {
            <a asp-action="Edit" asp-route-id="@Model?.UserId">Edit Profile</a>
        }
        else
        {
            @if (!(bool)ViewData["IsFriend"])
            {
                <form asp-action="AddFriend" method="post">
                    <input type="hidden" name="friendId" value="@Model.UserId" />
                    <button type="submit" class="btn btn-primary">Add Friend</button>
                </form>
            }
            else
            {
                <form asp-action="Unfriend" method="post">
                    <input type="hidden" name="friendId" value="@Model.UserId" />
                    <button type="submit" class="btn btn-danger">Unfriend</button>
                </form>
                <a class="btn btn-secondary" href="/Users/Chat/">Send a Message</a>
            }
        }
    </div>
