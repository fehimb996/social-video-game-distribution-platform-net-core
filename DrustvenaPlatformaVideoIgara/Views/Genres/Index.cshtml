@model GenreAndPlatformViewModel

@{
    ViewData["Title"] = "Categories";
}

<h1>Categories</h1>

<!-- Platforms Section -->
<h2>Platforms</h2>
@foreach (var platform in Model.Platforms)
{
    <div>
        <h3>@platform.PlatformName</h3>
        <ul>
            @foreach (var productPlatform in platform.ProductPlatforms)
            {
                var product = productPlatform.Product;
                <li>
                    <a asp-action="Details" asp-controller="Products" asp-route-id="@product.ProductId">
                        @product.ProductName
                    </a>
                </li>
            }
        </ul>
    </div>
}

<!-- Genres Section -->
<h2>Genres</h2>
@foreach (var genre in Model.Genres)
{
    <div>
        <h3>@genre.GenreName</h3>
        <ul>
            @foreach (var productGenre in genre.ProductGenres)
            {
                var product = productGenre.Product;
                <li>
                    <a asp-action="Details" asp-controller="Products" asp-route-id="@product.ProductId">
                        @product.ProductName
                    </a>
                </li>
            }
        </ul>
    </div>
}

<!-- Developers Section -->
<h2>Developers</h2>
@foreach (var developer in Model.Developers)
{
    <div>
        <h3>@developer.DeveloperName</h3>
        <ul>
            @foreach (var productDeveloper in developer.ProductDevelopers)
            {
                var product = productDeveloper.Product;
                <li>
                    <a asp-action="Details" asp-controller="Products" asp-route-id="@product.ProductId">
                        @product.ProductName
                    </a>
                </li>
            }
        </ul>
    </div>
}

<!-- Publishers Section -->
<h2>Publishers</h2>
@foreach (var publisher in Model.Publishers)
{
    <div>
        <h3>@publisher.PublisherName</h3>
        <ul>
            @foreach (var productPublisher in publisher.ProductPublishers)
            {
                var product = productPublisher.Product;
                <li>
                    <a asp-action="Details" asp-controller="Products" asp-route-id="@product.ProductId">
                        @product.ProductName
                    </a>
                </li>
            }
        </ul>
    </div>
}

